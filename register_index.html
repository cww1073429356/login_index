<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
    crossorigin="anonymous">
  <style>
    .form-control{
            width: 30% !important;
        }
        .form-horizontal{
            margin: 100px auto;
        }
    </style>
  <title>注册页面</title>
</head>

<body>
  <form class="form-horizontal">
    <div class="form-group">
      <label for="inputEmail3" class="col-sm-2 control-label">账号</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="inputEmail3" placeholder="请输入您的账号" name="username">
      </div>
    </div>
    <div class="form-group">
      <label for="inputPassword3" class="col-sm-2 control-label">密码</label>
      <div class="col-sm-10">
        <input type="password" class="form-control" id="inputPassword3" placeholder="请输入您的密码" name="password">
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <div class="checkbox">
          <label>
            <input type="checkbox">记住账号
          </label>
        </div>
      </div>
    </div>
    <div class="form-group">
      <!-- <div class="col-sm-offset-2 col-sm-10 btn">
        <button type="button" class="btn1 btn-default">登录</button>
      </div> -->
      <div class="col-sm-offset-2 col-sm-10">
        <button type="button" class="btn2 btn-default">注册</button>
      </div>
    </div>
  </form>
  <script src="ajax2.0.1.js"></script>
  <script>
    var register = (function () {
      return {
        init: function () {
          this.$form = document.querySelector("form");
          //this.$btn = document.querySelector(".btn1");
          this.$btn_zhu = document.querySelector(".btn2");
          this.event();
        },
        event: function () {
          var _this = this;
          this.$btn_zhu.onclick = function () {
            var params = {
              method: "POST",
              data: {
                username: _this.$form.username.value,
                password: _this.$form.password.value,
              },
              success: function (data) {
                if (data.data.code == 100 &&data.data.msg ) {
                  alert("注册成功");
                  //console.log(data.data.msg);
                  location.href = "loginIndex.html";
                } else {
                  alert("用户名存在");
                }
              },
            }
            sendAjax("register_index.php", params);
          }
        //   this.$btn_zhu.onclick=function(){
        //     location.href = "register_index.html";
        //   }
        },
      }
    }());
    register.init();
  </script>



</body>

</html>